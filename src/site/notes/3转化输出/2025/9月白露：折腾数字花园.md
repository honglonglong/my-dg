---
{"dg-publish":true,"permalink":"/3转化输出/2025/9月白露：折腾数字花园/","metatags":"数字花园，评论，搜索","tags":["技术研究"],"noteIcon":"1","created":"2025-09-13T17:21","updated":"2025-09-13T17:23"}
---

这周有空，开始给我的数字花园浇浇水了，可能都干涸了😄
主要的折腾项有：
- 支持评论
- 支持搜索引擎
- 重新构建网站，去掉菜单，让它更清爽

#### 支持评论
这个上网搜了一下，最好的是disqus，可是我这个小网站，都没有访问量，用不上，搜了个平替，让kimi做好坏对比，最后选择了giscus

|评论系统|是否免费|依赖服务|优点|缺点|
|------|-----|----------|---------|------|
|Giscus|✅ 完全免费|GitHub Discussions|配置简单、界面美观、支持暗黑模式、Markdown 支持好|要求仓库公开，评论者需有 GitHub 账号|
|Utterances	|✅ 免费	|GitHub Issues|类似 Giscus，轻量、稳定|同样需 GitHub 账号，界面略旧|
|Twikoo	|✅ 免费（可自托管）|腾讯云 / Vercel / 自托管	|不依赖 GitHub，支持匿名评论，适合国内用户|	配置稍复杂，需绑定环境|
|Disqus|❌ 有广告/收费|Disqus 平台|功能强大、支持匿名评论|国内访问慢，隐私差，有广告|
添加了下面的文件用来集成
```
src/site/_includes/components/user/notes/footer/001-giscus-comment.njk
```

#### 支持搜索引擎
之前不知道这个是怎么弄的，以为搜索引擎会自动爬所有的网站，竟然是要求他们爬你的网站。
每个搜索引擎有对应的webmaster tool，要把自己的网站提交，谷歌和必应都支持sitemap提交而且配额是够用了。

为了让它们验证网站是你的，需要在head里加他们的口令，于是添加了下面这个文件
```
src/site/_includes/components/user/index/head/search.njk
```

另外必应的检查更严格，还需要有meta description，于是借用了dg-metatags，可以传子键值对，结果它还跟obsidian里的auto update date插件冲突，于是改成让它是纯文本，通过自定义njk加进去。
```
src/site/_includes/components/user/common/head/searchDescription.njk
```

有一点瑕疵是生成的meta标签，有很多多余的，因为digital garden插件还是会把metatags当成数组生成html，先这样吧。

#### 重构首页
这个就简单了，插件设置里调一下就行了，在首页里再加一个list，显示每年的输出，打开回链显示，这样可以跳回首页。

目前就这些了，心里舒服了。





<div class="transclusion internal-embed is-loaded"><div class="markdown-embed">



*本站所有内容版权及解释权归本站内容发布者（夏至夕阳）所有，如有侵权请联系。*
==想见即有缘，欢迎留言沟通。== 

</div></div>




